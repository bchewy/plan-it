import{M as g}from"./MapItem-e4c4c7f6.js";import{A as y}from"./AddFriends-a37c6021.js";import{N as x,a as u}from"./Navbar-2917e1de.js";import{F as k,B as M}from"./chartjs-adapter-date-fns.esm-2d0c330f.js";import{_ as w,u as P,e as p,r as E,o as r,c as n,b as L,a as e,F as _,f as I,m as B,w as m,q as b,t as i,p as N,j as T}from"./index-751a66e8.js";const A={created(){this.fetchData()},watch:{activeTab:{immediate:!0,handler(s,t){s==="routes"&&this.$nextTick(()=>{this.fetchData()})}}},data(){const{user:s,isAuthenticated:t}=P(),a=p(0),h=p(0),d=p(0);return{users:[],userExp:a,expToNextLevel:h,userLvl:d,activeTab:"profile",isLoading:!1,currentPage:1,itemsPerPage:3,user:s,isAuthenticated:t,routes:[],friends:[],friendRequests:[],receivedRequests:[],sentRequests:[],updatedUser:{email:"",level:0,exp:0}}},computed:{},components:{Navbar:x,MapItem:g,AddFriend:y,FriendRequest:k,Badges:M},methods:{openModal(s){this.updatedUser.email=s.email,this.updatedUser.level=s.level,this.updatedUser.exp=s.exp},updateUser(){const s=`https://api.bchwy.com/users/${this.updatedUser.email}/replace/level`,t={"x-api-key":"PlanItIsTheBestProjectEverXYZ"};u.post(s,{level:this.updatedUser.level},{headers:t}).then(a=>{console.log(a.data),this.fetchUsers()}).catch(a=>{console.error("Error updating level:",a)})},fetchData(){this.fetchUsers()},async fetchUsers(){const s="https://api.bchwy.com/users",t={"x-api-key":"PlanItIsTheBestProjectEverXYZ"};try{const a=await u.get(s,{headers:t});this.users=a.data,console.log("test")}catch(a){console.error("Error fetching users:",a)}}}},l=s=>(N("data-v-9112be68"),s=s(),T(),s),C={class:"container-fluid pt-3 bg-supergreen pb-3"},D={class:"row"},q={class:"col-lg-12"},F={class:"card mt-4 mb-4"},S=l(()=>e("div",{class:"card-header"},[e("h3",{class:"mb-0"},"User Management")],-1)),V={class:"container m-2"},X={class:"row"},R={class:"col-12 mt-5"},j={class:"table table-striped"},Y=l(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Handle"),e("th",{scope:"col"},"Progress"),e("th",{scope:"col"},"Actions")])],-1)),Z={scope:"row"},$={key:0},H={key:1},z=["onClick"],G=["onClick"],J={class:"modal fade",id:"addUserModal",tabindex:"-1","aria-labelledby":"addUserModalLabel","aria-hidden":"true",ref:"addUserModal"},K={class:"modal-dialog"},O={class:"modal-content"},Q=l(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"addUserModalLabel"},"Update User Level and EXP"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),W={class:"modal-body"},ee={class:"mb-3"},se=l(()=>e("label",{for:"user-level",class:"form-label"},"Level",-1)),te={class:"mb-3"},oe=l(()=>e("label",{for:"user-exp",class:"form-label"},"EXP",-1)),ae=l(()=>e("button",{type:"submit",class:"btn btn-primary"},"Update",-1));function de(s,t,a,h,d,c){const v=E("Navbar");return r(),n(_,null,[L(v),e("div",C,[e("div",D,[e("div",q,[e("div",F,[S,e("div",V,[e("div",X,[e("div",R,[e("table",j,[Y,e("tbody",null,[(r(!0),n(_,null,I(d.users,(o,f)=>(r(),n("tr",{key:o},[e("th",Z,i(f+1),1),e("td",null,"@"+i(o.handle),1),o.level?(r(),n("td",$,"Lvl "+i(o.level)+", EXP: "+i(o.exp)+"/100",1)):(r(),n("td",H,"-")),e("td",null,[e("button",{class:"btn btn-primary",onClick:U=>c.openModal(o),"data-bs-toggle":"modal","data-bs-target":"#addUserModal"},"Edit",8,z),e("button",{disabled:"",class:"btn btn-danger",onClick:U=>s.deleteUser(o.id)},"Delete",8,G)])]))),128))])])])])])])])]),e("div",J,[e("div",K,[e("div",O,[Q,e("div",W,[e("form",{onSubmit:t[2]||(t[2]=B((...o)=>c.updateUser&&c.updateUser(...o),["prevent"]))},[e("div",ee,[se,m(e("input",{type:"number",class:"form-control",id:"user-level","onUpdate:modelValue":t[0]||(t[0]=o=>d.updatedUser.level=o)},null,512),[[b,d.updatedUser.level]])]),e("div",te,[oe,m(e("input",{disabled:"",type:"number",class:"form-control",id:"user-exp","onUpdate:modelValue":t[1]||(t[1]=o=>d.updatedUser.exp=o)},null,512),[[b,d.updatedUser.exp]])]),ae],32)])])])],512)])],64)}const pe=w(A,[["render",de],["__scopeId","data-v-9112be68"]]);export{pe as default};
