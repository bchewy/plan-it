import{N as w}from"./Navbar-faf4802b.js";import{C as k}from"./CommunitySidebar-40a6d63f.js";import{_ as I,e as f,u as N,j as B,r as y,o as t,c as e,b as h,a as s,F as u,f as p,d as C,t as d,i as m,p as S,h as V}from"./index-0fdca0a9.js";import{a as E}from"./axios-21b846bc.js";const G={components:{NavBar:w,CommunitySidebar:k},setup(){const l=f(!0),{loginWithRedirect:x,user:i,isAuthenticated:r,isLoading:g}=N(),v=!1,_=f([]),c=async()=>{for(;g.value;)await new Promise(b=>setTimeout(b,100));console.log(i.value.email);const a=await E.get(`${{}.VITE_API_ENDPOINT}/users/${encodeURIComponent(i.value.email)}/groups`,{headers:{"x-api-key":`${{}.VITE_API_KEY}`}});console.log("groups"),console.log(a.data.groups),_.value=a.data.groups};return B(()=>{c(),l.value=!1}),{user:i,isAuthenticated:r,loading:l,badges:v,getGroups:c,groups:_}}},o=l=>(S("data-v-633dfc1e"),l=l(),V(),l),T={class:"container-fluid vh-100 bg-supergreen pb-3 position-relative",style:{"background-color":"#cbdbb7"}},$={class:"sticky-top border-bottom",style:{"background-color":"#cbdbb7","z-index":"1"}},M=o(()=>s("div",{class:"text-center h2 mb-3 pt-4"},[s("span",{class:"header text-muted",style:{"font-weight":"bold"}},"Your Groups ")],-1)),P={class:"row",style:{"background-color":"#cbdbb7"}},Y={key:0},A={class:"card"},L=["src"],j={class:"card-body"},D={class:"card-title fs-2 text-center"},F=o(()=>s("br",null,null,-1)),O=o(()=>s("p",{class:"card-text"},[s("span",{class:"fw-bold"},"Owner:")],-1)),R=o(()=>s("p",{class:"card-text"},[s("span",{class:"fw-bold"},"Members:")],-1)),z={class:"list-group"},K={class:"list-group-item bg-light"},U=o(()=>s("br",null,null,-1)),W={key:0},q=o(()=>s("p",{class:"card-text"},[s("span",{class:"fw-bold"},"Badges:")],-1)),H={class:"col-11 bg-light text-center rounded border mb-2"},J=["src"],Q=o(()=>s("br",null,null,-1)),X=["data-bs-target"],Z=["id","aria-labelledby"],ss={class:"modal-dialog"},os={class:"modal-content"},ts={class:"modal-header"},es=["id"],as=o(()=>s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),ns={class:"modal-body"},ls={class:"row"},ds={class:"col justify-content-end"},cs=["src"],is={class:"col align-items-center d-flex"},rs={class:"fw-bold fs-4"},_s=o(()=>s("br",null,null,-1)),us=o(()=>s("br",null,null,-1)),ms=o(()=>s("br",null,null,-1)),bs=o(()=>s("br",null,null,-1)),hs=o(()=>s("strong",null,"Milestone:",-1)),ps=o(()=>s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1)),gs={key:1},vs=o(()=>s("p",{class:"card-text"},[s("span",{class:"fw-bold"},"Badges:"),m(" None")],-1)),fs=[vs],ys=o(()=>s("footer",null,null,-1));function xs(l,x,i,r,g,v){const _=y("NavBar"),c=y("CommunitySidebar");return t(),e(u,null,[h(_),h(c),s("div",T,[s("div",$,[h(c),M]),s("div",P,[r.loading?(t(),e("div",Y,"Loading...")):(t(!0),e(u,{key:1},p(r.groups,(a,b)=>(t(),e("div",{key:b,class:"col-md-4 mb-4",style:{"background-color":"#cbdbb7"}},[(t(),e("div",{key:a._id},[s("div",A,[a.group_image?(t(),e("img",{key:0,class:"card-img-top",src:a.group_image,alt:"Group Image"},null,8,L)):C("",!0),s("div",j,[s("h5",D,d(a.name),1),F,O,s("p",null,d(a.owner_email),1),R,s("ul",z,[(t(!0),e(u,null,p(a.members,n=>(t(),e("li",K,d(n),1))),256))]),m(),U,a.badges?(t(),e("div",W,[q,(t(!0),e(u,null,p(a.badges,n=>(t(),e("div",H,[s("img",{src:n.image,class:"w-75 rounded-circle mb-3 mt-3"},null,8,J),Q,s("button",{class:"btn btn-secondary mb-3","data-bs-toggle":"modal","data-bs-target":"#a"+n._id},"More info",8,X),s("div",{class:"modal fade",id:"a"+n._id,tabindex:"-1","aria-labelledby":n._id,"aria-hidden":"true"},[s("div",ss,[s("div",os,[s("div",ts,[s("h5",{class:"modal-title",id:n.name},"Badge Info",8,es),as]),s("div",ns,[s("div",ls,[s("div",ds,[s("img",{src:n.image,class:"w-100"},null,8,cs)]),s("div",is,[s("div",null,[s("span",rs,d(n.name),1),_s,us,m(" "+d(n.description)+" ",1),ms,bs,hs,m(" "+d(n.milestone),1)])])]),ps])])])],8,Z)]))),256))])):(t(),e("div",gs,fs))])])]))]))),128))])]),ys],64)}const Bs=I(G,[["render",xs],["__scopeId","data-v-633dfc1e"]]);export{Bs as default};
