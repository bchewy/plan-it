import{C as v,F as h}from"./FailBackend-a1db6125.js";import{C as y}from"./CommunitySidebar-40a6d63f.js";import{N as k}from"./Navbar-faf4802b.js";import{P}from"./PostComponent-298e32a5.js";import{_ as I,u as B,e as u,j as x,r as n,o as a,c as d,b as m,a as l,F as b,f as F,l as N,p as S,h as E}from"./index-0fdca0a9.js";import{a as w}from"./axios-21b846bc.js";const V={name:"Community",components:{NavBar:k,CreatePostComponent:v,PostComponent:P,CommunitySidebar:y,FailBackend:h},setup(){const{loginWithRedirect:t,user:p,isAuthenticated:f}=B(),o={"x-api-key":`${{}.VITE_API_KEY}`},r=u([]),c=u(!1),i=async()=>{const _=`${{}.VITE_API_ENDPOINT}/posts`;try{const s=await w.get(_,{headers:o});r.value=s.data.reverse(),console.log(r.value),c.value=!0}catch(s){console.error("error",s),c.value=!1}};return x(i),{user:p,posts:r,fetchPosts:i,IsbackendConnected:c}}},A=t=>(S("data-v-c9e24209"),t=t(),E(),t),D={class:"container-fluid bg-supergreen pb-3 vh-100 position-relative",style:{"background-color":"#cbdbb7"}},T={class:"sticky-top border-bottom",style:{"background-color":"#cbdbb7","z-index":"1"}},j=A(()=>l("div",{class:"text-center h2 mb-3 pt-4"},[l("span",{class:"header text-muted",style:{"font-weight":"bold"}},"For You ")],-1)),Y={key:0,class:"row justify-content-center bg-supergreen"},$={key:1};function z(t,p,f,o,r,c){const i=n("NavBar"),_=n("CommunitySidebar"),s=n("CreatePostComponent"),g=n("PostComponent"),C=n("FailBackend");return a(),d(b,null,[m(i),l("div",D,[l("div",T,[m(_),j]),o.IsbackendConnected?(a(),d("div",Y,[m(s,{onPostCreated:o.fetchPosts},null,8,["onPostCreated"]),(a(!0),d(b,null,F(o.posts,e=>(a(),N(g,{key:e._id,username:e.username,profileImage:e.userprofile,timePosted:e.timestamp,badge:e.badge,taggedFriends:e.taggedfriends,liked:e.likes,content:e.content,postID:e._id,useremail:o.user.email},null,8,["username","profileImage","timePosted","badge","taggedFriends","liked","content","postID","useremail"]))),128))])):(a(),d("div",$,[m(C)]))])],64)}const q=I(V,[["render",z],["__scopeId","data-v-c9e24209"]]);export{q as default};
